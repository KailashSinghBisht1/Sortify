<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>AlgoHub – Algorithm Visualizer</title>
    <link rel="stylesheet" href="css/hub.css" />
  </head>
  <body>
    <!-- ===== NAVBAR ===== -->
    <header class="navbar">
      <h2 class="title" onclick="window.location.reload()">
        Sortify
        <span style="font-size: 0.8rem; font-weight: 400">
          | Algorithms in Action
        </span>
      </h2>
      <div class="nav-buttons">
        <button onclick="loadApp('sorting')">Sorting</button>
        <button onclick="loadApp('hanoi')">Tower of Hanoi</button>
        <button onclick="loadApp('graph')">Graph</button>
      </div>
    </header>

    <!-- ===== VIEW AREA ===== -->
    <iframe
      id="viewer"
      src="projects/sorting/index.html"
      title="Algorithm Viewer"
    >
    </iframe>

    <!-- ===== SCRIPT ===== -->

    <script>
      function loadApp(app) {
        const iframe = document.getElementById("viewer");

        // agar same app pe click hua to kuch mat karo
        if (iframe.dataset.current === app) return;

        iframe.dataset.current = app;

        // 1️⃣ fade + blur out
        iframe.classList.add("hide");

        // 2️⃣ thoda ruk ke src change
        setTimeout(() => {
          iframe.src = `projects/${app}/index.html`;
        }, 180);

        // 3️⃣ jab naya iframe load ho jaye → fade in
        iframe.onload = () => {
          iframe.classList.remove("hide");
        };
      }

      // default load mark
      document.getElementById("viewer").dataset.current = "sorting";
    </script>
  </body>
</html>
